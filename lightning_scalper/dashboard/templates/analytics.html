<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightning Scalper - Analytics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-card: #333333;
            --color-primary: #00d4ff;
            --color-success: #22c55e;
            --color-warning: #f59e0b;
            --color-danger: #ef4444;
            --text-primary: #ffffff;
            --text-secondary: #888888;
            --border: #444444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: none !important;
            animation: none !important;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--color-primary);
        }

        .time-filters {
            display: flex;
            gap: 0.25rem;
        }

        .time-btn {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
        }

        .time-btn.active,
        .time-btn:hover {
            background: var(--color-primary);
            color: var(--bg-primary);
        }

        /* Navigation */
        .nav {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .nav-btn:hover, .nav-btn.active {
            background: var(--color-primary);
            color: var(--bg-primary);
        }

        /* KPI Grid */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .kpi-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }

        .kpi-value {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .kpi-value.positive {
            color: var(--color-success);
        }

        .kpi-value.negative {
            color: var(--color-danger);
        }

        .kpi-value.neutral {
            color: var(--color-primary);
        }

        .kpi-label {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        .kpi-change {
            font-size: 0.7rem;
            margin-top: 0.25rem;
        }

        .kpi-change.positive {
            color: var(--color-success);
        }

        .kpi-change.negative {
            color: var(--color-danger);
        }

        /* Analytics Grid */
        .analytics-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .chart-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
        }

        .chart-title {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .simple-chart {
            height: 250px;
            background: var(--bg-secondary);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .chart-svg {
            width: 100%;
            height: 100%;
        }

        .chart-line {
            fill: none;
            stroke: var(--color-primary);
            stroke-width: 2;
        }

        .chart-area {
            fill: var(--color-primary);
            opacity: 0.1;
        }

        /* Performance Summary */
        .performance-summary {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
        }

        .summary-title {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border);
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .summary-value {
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Trading Pairs Performance */
        .pairs-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 2rem;
        }

        .pairs-title {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .pairs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .pair-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
        }

        .pair-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }

        .pair-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            font-size: 0.8rem;
        }

        .pair-stat {
            display: flex;
            justify-content: space-between;
        }

        .pair-stat-label {
            color: var(--text-secondary);
        }

        .pair-stat-value {
            color: var(--text-primary);
        }

        /* Risk Metrics */
        .risk-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
        }

        .risk-title {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .risk-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .risk-metric {
            text-align: center;
        }

        .risk-value {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .risk-value.low {
            color: var(--color-success);
        }

        .risk-value.medium {
            color: var(--color-warning);
        }

        .risk-value.high {
            color: var(--color-danger);
        }

        .risk-label {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0.5rem;
            }
            
            .header {
                flex-direction: column;
                gap: 1rem;
            }
            
            .analytics-grid {
                grid-template-columns: 1fr;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pairs-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1 class="page-title">
                <i class="fas fa-chart-pie"></i> Performance Analytics
            </h1>
            <div class="time-filters">
                <button class="time-btn">1D</button>
                <button class="time-btn">1W</button>
                <button class="time-btn active">1M</button>
                <button class="time-btn">3M</button>
                <button class="time-btn">1Y</button>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <a href="/" class="nav-btn">
                <i class="fas fa-home"></i> Dashboard
            </a>
            <a href="/clients" class="nav-btn">
                <i class="fas fa-users"></i> Clients
            </a>
            <a href="/signals" class="nav-btn">
                <i class="fas fa-chart-line"></i> Signals
            </a>
            <a href="/analytics" class="nav-btn active">
                <i class="fas fa-chart-pie"></i> Analytics
            </a>
        </div>

        <!-- KPI Grid -->
        <div class="kpi-grid">
            <div class="kpi-card">
                <div class="kpi-value positive">+$12,450</div>
                <div class="kpi-label">Total P&L (30 days)</div>
                <div class="kpi-change positive">+18.5% vs last month</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value neutral">73.2%</div>
                <div class="kpi-label">Win Rate</div>
                <div class="kpi-change positive">+2.1% improvement</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value neutral">1.85</div>
                <div class="kpi-label">Avg Risk:Reward</div>
                <div class="kpi-change positive">+0.15 improvement</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value negative">-5.2%</div>
                <div class="kpi-label">Max Drawdown</div>
                <div class="kpi-change positive">-1.8% vs last month</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value neutral">156</div>
                <div class="kpi-label">Total Trades</div>
                <div class="kpi-change positive">+23 vs last month</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value neutral">68.5</div>
                <div class="kpi-label">Avg Signal Quality</div>
                <div class="kpi-change positive">+4.2 improvement</div>
            </div>
        </div>

        <!-- Analytics Grid -->
        <div class="analytics-grid">
            <div class="chart-section">
                <h3 class="chart-title">
                    <i class="fas fa-chart-area"></i> Equity Curve (30 Days)
                </h3>
                <div class="simple-chart">
                    <svg class="chart-svg" viewBox="0 0 400 150">
                        <defs>
                            <linearGradient id="equityGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:var(--color-success);stop-opacity:0.3" />
                                <stop offset="100%" style="stop-color:var(--color-success);stop-opacity:0" />
                            </linearGradient>
                        </defs>
                        <!-- Equity curve with gradual upward trend -->
                        <path class="chart-area" d="M0,120 L40,115 L80,110 L120,105 L160,95 L200,85 L240,80 L280,70 L320,65 L360,50 L400,40 L400,150 L0,150 Z" fill="url(#equityGradient)"/>
                        <path class="chart-line" d="M0,120 L40,115 L80,110 L120,105 L160,95 L200,85 L240,80 L280,70 L320,65 L360,50 L400,40" stroke="var(--color-success)"/>
                        
                        <!-- Grid lines -->
                        <g stroke="var(--border)" stroke-width="0.5" opacity="0.3">
                            <line x1="0" y1="37.5" x2="400" y2="37.5"/>
                            <line x1="0" y1="75" x2="400" y2="75"/>
                            <line x1="0" y1="112.5" x2="400" y2="112.5"/>
                        </g>
                    </svg>
                </div>
            </div>

            <div class="performance-summary">
                <h3 class="summary-title">
                    <i class="fas fa-trophy"></i> Performance Summary
                </h3>
                <div class="summary-item">
                    <span class="summary-label">Best Day</span>
                    <span class="summary-value" style="color: var(--color-success);">+$890</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Worst Day</span>
                    <span class="summary-value" style="color: var(--color-danger);">-$235</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Avg Daily P&L</span>
                    <span class="summary-value">+$415</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Profitable Days</span>
                    <span class="summary-value">22/30 (73%)</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Largest Win</span>
                    <span class="summary-value" style="color: var(--color-success);">+$1,240</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Largest Loss</span>
                    <span class="summary-value" style="color: var(--color-danger);">-$380</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Profit Factor</span>
                    <span class="summary-value">2.34</span>
                </div>
                <div class="summary-item">
                    <span class="summary-label">Sharpe Ratio</span>
                    <span class="summary-value">1.87</span>
                </div>
            </div>
        </div>

        <!-- Trading Pairs Performance -->
        <div class="pairs-section">
            <h3 class="pairs-title">
                <i class="fas fa-exchange-alt"></i> Currency Pairs Performance
            </h3>
            <div class="pairs-grid">
                <div class="pair-card">
                    <div class="pair-name">EURUSD</div>
                    <div class="pair-stats">
                        <div class="pair-stat">
                            <span class="pair-stat-label">Win Rate:</span>
                            <span class="pair-stat-value">78%</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">P&L:</span>
                            <span class="pair-stat-value" style="color: var(--color-success);">+$3,240</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Trades:</span>
                            <span class="pair-stat-value">42</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Avg R:R:</span>
                            <span class="pair-stat-value">1.6</span>
                        </div>
                    </div>
                </div>

                <div class="pair-card">
                    <div class="pair-name">GBPUSD</div>
                    <div class="pair-stats">
                        <div class="pair-stat">
                            <span class="pair-stat-label">Win Rate:</span>
                            <span class="pair-stat-value">71%</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">P&L:</span>
                            <span class="pair-stat-value" style="color: var(--color-success);">+$2,890</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Trades:</span>
                            <span class="pair-stat-value">38</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Avg R:R:</span>
                            <span class="pair-stat-value">1.8</span>
                        </div>
                    </div>
                </div>

                <div class="pair-card">
                    <div class="pair-name">USDJPY</div>
                    <div class="pair-stats">
                        <div class="pair-stat">
                            <span class="pair-stat-label">Win Rate:</span>
                            <span class="pair-stat-value">69%</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">P&L:</span>
                            <span class="pair-stat-value" style="color: var(--color-success);">+$1,820</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Trades:</span>
                            <span class="pair-stat-value">29</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Avg R:R:</span>
                            <span class="pair-stat-value">1.9</span>
                        </div>
                    </div>
                </div>

                <div class="pair-card">
                    <div class="pair-name">XAUUSD</div>
                    <div class="pair-stats">
                        <div class="pair-stat">
                            <span class="pair-stat-label">Win Rate:</span>
                            <span class="pair-stat-value">82%</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">P&L:</span>
                            <span class="pair-stat-value" style="color: var(--color-success);">+$4,500</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Trades:</span>
                            <span class="pair-stat-value">47</span>
                        </div>
                        <div class="pair-stat">
                            <span class="pair-stat-label">Avg R:R:</span>
                            <span class="pair-stat-value">2.1</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Risk Metrics -->
        <div class="risk-section">
            <h3 class="risk-title">
                <i class="fas fa-shield-alt"></i> Risk Management
            </h3>
            <div class="risk-metrics">
                <div class="risk-metric">
                    <div class="risk-value low">Low</div>
                    <div class="risk-label">Current Risk Level</div>
                </div>
                <div class="risk-metric">
                    <div class="risk-value low">2.3%</div>
                    <div class="risk-label">Position Size</div>
                </div>
                <div class="risk-metric">
                    <div class="risk-value low">15%</div>
                    <div class="risk-label">Margin Usage</div>
                </div>
                <div class="risk-metric">
                    <div class="risk-value low">0.8</div>
                    <div class="risk-label">Correlation Risk</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simple time filter functionality
        document.querySelectorAll('.time-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const period = this.textContent;
                console.log('Analytics period changed to:', period);
                // In real implementation: reload data for selected period
            });
        });

        // Auto-refresh analytics data every 5 minutes
        setInterval(function() {
            fetch('/api/analytics')
                .then(response => response.json())
                .then(data => {
                    console.log('Analytics data refreshed');
                    // Update charts and metrics if needed
                })
                .catch(error => {
                    console.log('Analytics refresh failed:', error);
                });
        }, 300000);

        console.log('Lightning Scalper Analytics page loaded');
    </script>
</body>
</html>